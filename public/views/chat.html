<div class="p-6 bg-gray-100 min-h-screen flex flex-col">
  <h1 class="text-2xl font-bold mb-4 text-blue-600 text-center">Chat del Evento</h1>
  <div id="messages" class="flex-1 overflow-y-auto bg-white rounded-lg p-4 shadow mb-4"></div>

  <div class="flex gap-2">
    <input id="msg" placeholder="Escribe un mensaje..." class="border flex-1 p-2 rounded">
    <button onclick="sendMessage()" class="bg-blue-600 text-white px-4 py-2 rounded">Enviar</button>
  </div>
</div>

<script src="../js/api.js"></script>
<script>
async function loadMessages() {
  const res = await apiGet("/chat");
  messages.innerHTML = res.map(m => `<p><b>${m.user}:</b> ${m.text}</p>`).join('');
}
async function sendMessage() {
  const res = await apiPost("/chat", { text: msg.value });
  msg.value = "";
  loadMessages();
}
loadMessages();
setInterval(loadMessages, 5000);
</script>
